<!DOCTYPE html>
<html><head><title>Flipkart Label Processor</title></head>
<body>
  <h2>Upload Flipkart PDF Label</h2>
  <input type="file" id="pdf"><br><br>
  <button onclick="upload()">Upload & Process</button>
  <div id="result" style="margin-top: 20px;"></div>
  <script>
    async function upload() {
      const file = document.getElementById('pdf').files[0];
      if (!file) return alert("Select a PDF file.");
      const form = new FormData(); form.append('label', file);
      const res = await fetch('/process-labels', { method: 'POST', body: form });
      const data = await res.json();
      if (data.download) {
        document.getElementById('result').innerHTML =
          `<a href="${data.download}" target="_blank">Download Processed PDF</a>`;
      } else {
        alert("Error: " + data.error);
      }
    }
  </script>
</body></html>
