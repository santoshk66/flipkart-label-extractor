<!DOCTYPE html>
<html>
<head><title>Flipkart Label/Invoice Split</title></head>
<body>
  <h2>Upload Flipkart Label PDF</h2>
  <input type="file" id="pdf">
  <button onclick="upload()">Split PDF</button>
  <div id="result" style="display:none;">
    <h3>Download:</h3>
    <a id="link" href="#" target="_blank">Download PDF</a>
  </div>
<script>
  async function upload() {
    const file = document.getElementById("pdf").files[0];
    if (!file) return alert("Please select a PDF");
    const form = new FormData();
    form.append("label", file);
    const res = await fetch("/split-label-invoice", {
      method: "POST", body: form
    });
    const data = await res.json();
    if (data.download) {
      document.getElementById("link").href = data.download;
      document.getElementById("result").style.display = "block";
    } else {
      alert("Failed: " + data.error);
    }
  }
</script>
</body>
</html>
